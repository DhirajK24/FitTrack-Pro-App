{
  "meta": {
    "project": "Comprehensive Fitness & Wellness App",
    "date": "2025-09-29",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "A holistic fitness and wellness mobile app integrating user authentication, onboarding, workout logging, wellness tracking, AI-powered nutrition coaching, and detailed analytics to help users achieve personalized health goals.",
  "core_goals": [
    "Provide seamless and secure user authentication with multiple sign-in options and robust session management.",
    "Deliver a comprehensive multi-step onboarding process to capture essential user fitness data and goals.",
    "Enable detailed workout tracking with an extensive exercise library, routine builder, and workout logging.",
    "Offer wellness tracking features for water intake and sleep with progress visualization and reminders.",
    "Integrate an AI-powered nutrition coach for personalized meal planning and dietary advice.",
    "Present insightful analytics and a progress dashboard to motivate and inform users.",
    "Support offline-first data synchronization ensuring user data is safe and up-to-date.",
    "Allow users to manage settings and preferences to tailor app experience."
  ],
  "key_features": [
    "User Authentication supporting email/password, Google Sign-In, anonymous login, password reset, and secure session management.",
    "Multi-step User Onboarding collecting personal info, fitness stats, goals, and privacy consent.",
    "Comprehensive User Profile with editable information, primary and micro-goals, profile picture, and goal center.",
    "Dynamic Workout Logging including exercise details, set tracking, rest timer, and custom exercise addition.",
    "Extensive Exercise Library categorized by muscle group and equipment with media demonstrations.",
    "Routine Builder to create, save, and load custom workout routines.",
    "Water Intake Tracker with one-tap logging, visualization of progress, customizable daily goals, and reminders.",
    "Sleep Tracker capturing bedtime, wake time, sleep quality ratings, notes, and advanced screen-off detection metric.",
    "AI Nutrition Coach with a conversational chat interface tailored to cultural context, generating meal plans, recipes, and grocery lists with macronutrient info.",
    "A main Dashboard displaying today's workout overview, weekly activity charts, water intake, sleep logs, and motivational content.",
    "Advanced Analytics with visual charts, records, consistency calendar, and progress metrics.",
    "Smart Reminders for workouts, water intake, and sleep with user-customizable schedules.",
    "User Settings allowing management of notifications, units, and theme preferences.",
    "Offline-first Data Synchronization ensuring seamless data updates between device and Firebase backend."
  ],
  "user_flow_summary": [
    "User signs up or logs in via email/password, Google, or anonymously.",
    "New users proceed through a multi-step onboarding capturing personal data, fitness stats, and goals.",
    "Users access the dashboard showing an overview of fitness and wellness activities.",
    "Users log workouts with detailed exercise input or select saved routines.",
    "Users track water intake and sleep with simple input and receive reminders.",
    "Users interact with the AI Nutrition Coach to get tailored meal plans and dietary advice.",
    "Users view detailed analytics filtered by time periods to monitor progress.",
    "Users edit profile, update goals, and customize app settings including notifications and themes.",
    "App synchronizes data locally and with Firebase backend for offline resilience."
  ],
  "validation_criteria": [
    "Successful sign in/out using all authentication methods and session persistence.",
    "Complete onboarding ensures all user data is captured and saved correctly.",
    "Workout logging reflects correct exercise data, sets, reps, and updates history.",
    "Exercise library loads with categorized exercises and supports custom additions.",
    "Water and sleep logging inputs data accurately and progress visuals update accordingly.",
    "AI Nutrition Coach generates relevant meal plans respecting user dietary preferences and cultural context.",
    "Dashboard displays accurate real-time data across workouts, water, and sleep.",
    "Analytics correctly reflect user data with appropriate filters and visualization.",
    "Reminders fire at user-specified times and can be toggled on/off.",
    "Settings changes persist and affect user experience as expected.",
    "Data synchronizes correctly offline and online without data loss or conflicts."
  ],
  "code_summary": {
    "tech_stack": [
      "Dart",
      "Flutter",
      "Firebase",
      "Hive",
      "Provider",
      "GoRouter",
      "Google Sign-In",
      "Cloud Firestore",
      "Firebase Auth",
      "Firebase Storage"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Complete authentication system with email/password, Google Sign-In, password reset, and anonymous login",
        "files": [
          "lib/services/firebase_service.dart",
          "lib/providers/auth_provider.dart",
          "lib/screens/auth/sign_in_screen.dart",
          "lib/screens/auth/sign_up_screen.dart",
          "lib/screens/auth/password_reset_screen.dart",
          "lib/screens/auth/google_auth_test_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Authentication API",
            "version": "1.0.0"
          },
          "paths": {
            "/auth/signin": {
              "post": {
                "summary": "Sign in with email and password",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string",
                            "format": "email"
                          },
                          "password": {
                            "type": "string",
                            "minLength": 6
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/auth/signup": {
              "post": {
                "summary": "Create new user account",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string",
                            "format": "email"
                          },
                          "password": {
                            "type": "string",
                            "minLength": 6
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/auth/google": {
              "post": {
                "summary": "Sign in with Google"
              }
            },
            "/auth/reset-password": {
              "post": {
                "summary": "Send password reset email",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string",
                            "format": "email"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "User Onboarding",
        "description": "Multi-step onboarding process to collect user information, preferences, and goals",
        "files": [
          "lib/screens/onboarding/welcome_screen.dart",
          "lib/screens/onboarding/personal_info_screen.dart",
          "lib/screens/onboarding/stats_screen.dart",
          "lib/screens/onboarding/goals_consent_screen.dart",
          "lib/screens/onboarding/profile_info_screen.dart",
          "lib/screens/onboarding/goals_screen.dart",
          "lib/screens/onboarding/permissions_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Onboarding API",
            "version": "1.0.0"
          },
          "paths": {
            "/onboarding/personal-info": {
              "post": {
                "summary": "Save personal information",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "age": {
                            "type": "integer"
                          },
                          "gender": {
                            "type": "string",
                            "enum": [
                              "male",
                              "female",
                              "other"
                            ]
                          },
                          "height": {
                            "type": "number"
                          },
                          "weight": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/onboarding/goals": {
              "post": {
                "summary": "Save user fitness goals",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "primaryGoal": {
                            "type": "string"
                          },
                          "targetWeight": {
                            "type": "number"
                          },
                          "workoutFrequency": {
                            "type": "integer"
                          },
                          "experienceLevel": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Workout Tracking",
        "description": "Comprehensive workout logging system with exercise library, set tracking, and workout history",
        "files": [
          "lib/models/enhanced_workout_model.dart",
          "lib/providers/enhanced_workout_provider.dart",
          "lib/repositories/hive_workout_repository.dart",
          "lib/screens/workout/workout_logger_screen.dart",
          "lib/screens/workout/workout_history_screen.dart",
          "lib/screens/workout/exercise_library_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Workout Tracking API",
            "version": "1.0.0"
          },
          "paths": {
            "/workouts": {
              "get": {
                "summary": "Get user workout history"
              },
              "post": {
                "summary": "Create new workout",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "exercises": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "category": {
                                  "type": "string"
                                },
                                "sets": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "weight": {
                                        "type": "number"
                                      },
                                      "reps": {
                                        "type": "integer"
                                      },
                                      "intensity": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 10
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/workouts/{id}": {
              "put": {
                "summary": "Update workout",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ]
              },
              "delete": {
                "summary": "Delete workout",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ]
              }
            }
          }
        }
      },
      {
        "name": "Water Tracking",
        "description": "Water intake tracking with goals, reminders, and progress visualization",
        "files": [
          "lib/models/enhanced_water_model.dart",
          "lib/providers/enhanced_water_provider.dart",
          "lib/repositories/hive_water_repository.dart",
          "lib/screens/wellness/water_tracker_screen.dart",
          "lib/widgets/water_intake_widget.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Water Tracking API",
            "version": "1.0.0"
          },
          "paths": {
            "/water/logs": {
              "get": {
                "summary": "Get water intake logs"
              },
              "post": {
                "summary": "Log water intake",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "amount": {
                            "type": "number"
                          },
                          "source": {
                            "type": "string",
                            "enum": [
                              "water",
                              "coffee",
                              "tea",
                              "juice",
                              "other"
                            ]
                          },
                          "timestamp": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/water/goals": {
              "get": {
                "summary": "Get water intake goals"
              },
              "post": {
                "summary": "Set water intake goal",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "dailyGoal": {
                            "type": "number"
                          },
                          "reminderInterval": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Sleep Tracking",
        "description": "Sleep quality and duration tracking with analytics and insights",
        "files": [
          "lib/models/enhanced_sleep_model.dart",
          "lib/providers/enhanced_sleep_provider.dart",
          "lib/repositories/hive_sleep_repository.dart",
          "lib/screens/wellness/sleep_tracker_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Sleep Tracking API",
            "version": "1.0.0"
          },
          "paths": {
            "/sleep/logs": {
              "get": {
                "summary": "Get sleep logs"
              },
              "post": {
                "summary": "Log sleep session",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "bedtime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "wakeTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "quality": {
                            "type": "string",
                            "enum": [
                              "excellent",
                              "good",
                              "fair",
                              "poor"
                            ]
                          },
                          "notes": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "AI Nutrition Coach",
        "description": "AI-powered nutrition coaching with chat interface and meal planning",
        "files": [
          "lib/screens/nutrition/ai_nutrition_chat_screen.dart",
          "lib/screens/nutrition/nutrition_coach_overview_screen.dart",
          "lib/screens/nutrition/nutrition_chat_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "AI Nutrition Coach API",
            "version": "1.0.0"
          },
          "paths": {
            "/nutrition/chat": {
              "post": {
                "summary": "Send message to AI nutrition coach",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "message": {
                            "type": "string"
                          },
                          "context": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/nutrition/meal-plan": {
              "get": {
                "summary": "Get personalized meal plan"
              },
              "post": {
                "summary": "Generate new meal plan",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "dietaryPreferences": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "calorieGoal": {
                            "type": "integer"
                          },
                          "macros": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Analytics Dashboard",
        "description": "Comprehensive analytics and progress tracking with charts and insights",
        "files": [
          "lib/screens/analytics/analytics_dashboard_screen.dart",
          "lib/providers/analytics_provider.dart",
          "lib/repositories/analytics_repository.dart",
          "lib/models/analytics_model.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Analytics API",
            "version": "1.0.0"
          },
          "paths": {
            "/analytics/workout": {
              "get": {
                "summary": "Get workout analytics",
                "parameters": [
                  {
                    "name": "period",
                    "in": "query",
                    "schema": {
                      "type": "string",
                      "enum": [
                        "week",
                        "month",
                        "year"
                      ]
                    }
                  }
                ]
              }
            },
            "/analytics/water": {
              "get": {
                "summary": "Get water intake analytics"
              }
            },
            "/analytics/sleep": {
              "get": {
                "summary": "Get sleep analytics"
              }
            },
            "/analytics/progress": {
              "get": {
                "summary": "Get overall progress metrics"
              }
            }
          }
        }
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard with overview of all fitness activities and quick access to features",
        "files": [
          "lib/screens/dashboard/dashboard_screen.dart",
          "lib/providers/app_provider.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Dashboard API",
            "version": "1.0.0"
          },
          "paths": {
            "/dashboard": {
              "get": {
                "summary": "Get dashboard overview data"
              }
            }
          }
        }
      },
      {
        "name": "Settings",
        "description": "User settings and preferences management",
        "files": [
          "lib/screens/settings/settings_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Settings API",
            "version": "1.0.0"
          },
          "paths": {
            "/settings": {
              "get": {
                "summary": "Get user settings"
              },
              "put": {
                "summary": "Update user settings",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "notifications": {
                            "type": "boolean"
                          },
                          "units": {
                            "type": "string",
                            "enum": [
                              "metric",
                              "imperial"
                            ]
                          },
                          "theme": {
                            "type": "string",
                            "enum": [
                              "light",
                              "dark",
                              "system"
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Data Synchronization",
        "description": "Offline-first data synchronization with Firebase backend",
        "files": [
          "lib/services/sync_service.dart",
          "lib/services/firebase_service.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Sync API",
            "version": "1.0.0"
          },
          "paths": {
            "/sync": {
              "post": {
                "summary": "Sync local data with server",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "data": {
                            "type": "object"
                          },
                          "lastSync": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
